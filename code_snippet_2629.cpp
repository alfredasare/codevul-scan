if ((feof(fp) == 0 && ferror(fp) != 0) || ferror(fp) == 1) {